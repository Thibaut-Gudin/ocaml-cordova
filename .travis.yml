language: c

sudo: false

addons:
  apt:
    sources:
    - avsm
    packages:
    - ocaml
    - ocaml-native-compilers
    - opam

script: bash -ex .travis-ci.sh

env:
  - OPAM_SWITCH=4.03.0
  - OPAM_SWITCH=4.04.0
  - OPAM_SWITCH=4.05.0
  - OPAM_SWITCH=4.06.0
  - OPAM_SWITCH=4.07.0
  - OPAM_SWITCH=4.08.0
  - OPAM_SWITCH=4.09.0
  - OPAM_SWITCH=4.10.0
  - OPAM_SWITCH=4.11.0

git:
  depth: 1
